<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        button { padding: 10px 20px; margin: 10px; font-size: 16px; }
        .result { margin: 20px 0; padding: 10px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</h1>
    
    <button onclick="testRedirect1()">Ø§Ø®ØªØ¨Ø§Ø± 1: Ø±Ù‚Ù… Ø¨Ø³ÙŠØ·</button>
    <button onclick="testRedirect2()">Ø§Ø®ØªØ¨Ø§Ø± 2: Ø±Ù‚Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
    <button onclick="testRedirect3()">Ø§Ø®ØªØ¨Ø§Ø± 3: Ù…Ø¹ ØªØ£ÙƒÙŠØ¯</button>
    
    <div class="result" id="result"></div>
    
    <script>
        function log(message) {
            const result = document.getElementById('result');
            result.innerHTML += '<div>' + new Date().toLocaleTimeString() + ': ' + message + '</div>';
            console.log(message);
        }
        
        function generatePhoneNumber() {
            return 'PH' + Date.now().toString().slice(-8);
        }
        
        function testRedirect1() {
            const phoneNumber = '123456';
            log('ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± 1: Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø±Ù‚Ù… ' + phoneNumber);
            window.location.href = `print_barcode.html?phone_number=${phoneNumber}`;
        }
        
        function testRedirect2() {
            const phoneNumber = generatePhoneNumber();
            log('ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± 2: Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø±Ù‚Ù… ' + phoneNumber);
            window.location.href = `print_barcode.html?phone_number=${phoneNumber}`;
        }
        
        function testRedirect3() {
            const phoneNumber = generatePhoneNumber();
            log('ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± 3: Ù…Ø¹ ØªØ£ÙƒÙŠØ¯ - Ø±Ù‚Ù… ' + phoneNumber);
            
            const shouldPrint = confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„ØªÙˆØ¬Ù‡ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ØŸ');
            if (shouldPrint) {
                log('âœ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡');
                window.location.href = `print_barcode.html?phone_number=${phoneNumber}`;
            } else {
                log('âŒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø±ÙØ¶ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡');
            }
        }
        
        // ÙØ­Øµ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø±Ù‚Ù… ÙÙŠ URL
        const urlParams = new URLSearchParams(window.location.search);
        const phoneNumber = urlParams.get('phone_number');
        if (phoneNumber) {
            log('ğŸ“± ØªÙ… Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ù† URL: ' + phoneNumber);
        }
    </script>
</body>
</html>
